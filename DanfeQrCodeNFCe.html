<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from www.w3schools.com/css/default.asp by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 13 Mar 2016 05:37:02 GMT -->

<head>

  <title>DANFE e QR Code NFC-e</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="Keywords" content="NF-e, NFC-e, Encat, Web- Services, Nota Eltrônica, Nota Fiscal, Nota de Consumidor, Nota Fiscal de Consumidor Eletrônica">
  <meta name="Description" content="Manual de Orientação ao Contribuinte- Nota Fiscal Eletrônica">

  <link rel="stylesheet" type="text/css" href="estilo.css">
  <script src="myscript.js"></script>
  <link rel="icon" href="./Imagens/nfe_logo.png">
</head>

<body>

  <!-- Cabeçalho da pagina, que deve sumir quando dou o scroll-->
  <div class='cabecalho topo'>
    <div class='titulo'>
      <p><span><span style="font-size: 14pt;">Projeto Nota Fiscal Eletr&ocirc;nica</span></span></p>
      <p><span><span>Manual de Orienta&ccedil;&atilde;o ao Contribuinte</span></span></p>
    </div>
    <div class='imagens_cabecalho'>
      <img src="./Imagens/nfce_logo.png" alt="NFC-e" style="height:100%;width:auto;float:right ;">
      <img src="./Imagens/nfe_logo.png" alt="NF-e" style="height:100%;width:auto;float:right;">

    </div>
  </div>

  <!-- Barra de navegação superior, que deve ficar fixa no alto da pagina quando dou scroll -->



  <!--Essa primeira parte cria a barra, atribuindo os efeitos à ela -->
  <div class='linha_superior sombra barra_nav' id='barra_superior'>
    <div style='overflow:auto;'>
      <div style='float:left;width:100%;overflow:hidden;height:44px'>
        <!-- Aqui vai o índice geral do Manual-->
        <a href='javascript:void(0);' id="botao_menu" class='' onclick='menu()' title='Menu'>&#9776;</a>
        <a href='./index.html' title='Visão Geral'>Visão Geral</a>
        <div class='dropdown'>
          <a href='javascript:void(0);' id="botao_leiaute" title='Web Services'>Web Services</a>
          <div class='dropdown-content'>
            <a href='./NFeAutorizacao.html' title='WS Autorizacao'> Web Service- NFeAutorização</a>
            <a href='./NFeRetAutorizacao.html' title='WS RetAutorizacao'>Web Service- NFeRetAutorizacao</a>
            <a href='./NFeInutilizacao.html' title='WS Inutilizacao'>Web Service- NFeInutilização</a>
            <a href='./NFeConsultaProtocolo.html' title='WS Consulta Protocolo'>Web Service- NFeConsulta Protocolo</a>
            <a href='./NFeStatusServico.html' title='WS Status Serviço'>Web Service- NFeStatus Servico</a>
            <a href='./NFeConsultaCadastro.html' title='WS Consulta Cadastro'>Web Service- NFeConsultaCadastro</a>
            <a href='./NFeDistribuicaoDFe.html' title='WS Distribuição DFe'>Web Service- NFeDistribuicaoDFe</a>
            <a href='javascript:void(0);' title='WS Recepção Evento'>Web Service- NFeRecepcaoEvento</a>
            <a href='./RecepcaoEventoGeral.html' title='WS Autorizacao'>&emsp;&#8227;Parte Geral</a>
            <a href='./RecepcaoEventoCancelamento.html' title='WS Cancelamento por Substituição'>&emsp;&#8227;Cancelamento/Cancelamento por substituição</a>
            <a href='./RecepcaoEventoCartaCorrecao.html' title='WS Carta de Correção'>&emsp;&#8227;Carta de Correção</a>
            <a href='./RecepcaoEventoManifestacao.html' title='WS Manifestação do Destinatário'>&emsp;&#8227;Manifestação do Destinatário</a>
            <a href='./RecepcaoEventoEPEC.html' title='WS EPEC'>&emsp;&#8227;EPEC</a>
            <a href='./RecepcaoEventoProrrogacao.html' title='WS Pedido de Prorrogação'>&emsp;&#8227;Pedido de Prorrogação</a>
            <a href='./RecepcaoAtorInteressado.html' title='WS Ator Interessado'>&emsp;&#8227;Ator Interessado na NF-e - Transportador</a>
            <a href='./RecepcaoComprovanteEntrega.html' title='WS Ator Interessado'>&emsp;&#8227;Comprovante de Entrega da NF-e</a>
            <a href='./RecepcaoCancelamentoComprovante.html' title='WS Ator Interessado'>&emsp;&#8227;Cancelamento Comprovante de Entrega da NF-e </a>
            <a href='./NFeConsultaGTIN.html' title='WS Consulta GTIN'>Web Service- Consulta GTIN</a>
          </div>
        </div>

        <div class='dropdown hide_leiaute'>
          <a href='./Leiaute.html' id="botao_leiaute" title='Leiaute'>Leiaute</a>
        </div>

        <div class='dropdown hide_regras_validacao'>
          <a href='./RegrasDeValidação.html' id="botao_leiaute" title='Regras de Validação'>Regras de Validação</a>
        </div>


        <div class='dropdown hide_danfe'>
          <a href='javascript:void(0);' id="botao_leiaute" title='Leiaute'>DANFE</a>
          <div class='dropdown-content'>
            <a href='./DanfeCodigoBarras.html' id="botao_leiaute" title='Danfe/Código de Barras'>DANFE/Código de Barras NF-e</a>
            <a href='./DanfeQrCodeNFCe.html' title='Contingência NFC-e'>DANFE/QR Code NFC-e</a>
          </div>
        </div>

        <div class='dropdown hide_contingencia'>
          <a href='javascript:void(0);' id="botao_leiaute" title='Leiaute'>Contingência</a>
          <div class='dropdown-content'>
            <a href='./Contingencia_NFe.html' title='Contingência NF-e'>Contingência NF-e</a>
            <a href='./ContingenciaNFCe.html' title='Contingência NFC-e'>Contingência NFC-e</a>
          </div>
        </div>

        <div class='dropdown'>
          <a href='javascript:void(0);' id="botao_leiaute" title='Demais Anexos'><span class="show_anexo">Anexos</span></a>
          <div class='dropdown-content'>

            <div class="show_leiaute">
              <!--A classe show_leiaute garante que essas informações só serão exibidas dentro da aba de demais anexos quando a tela for inferior à 630 pixels -->
              <a href='./Leiaute.html' id="botao_leiaute" title='Leiaute'>Leiaute</a>
            </div>

            <div class="show_regras_validacao">
              <!--A classe show_regras_validacao garante que essas informações só serão exibidas dentro da aba de demais anexos quando a tela for inferior à 840 pixels -->
              <a href='./RegrasDeValidação.html' id="botao_leiaute" title='Regras de Validação'>Regras de Validação</a>
            </div>

            <div class="show_danfe">
              <!--A classe show_danfe garante que essas informações só serão exibidas dentro da aba de demais anexos quando a tela for inferior à 934 pixels -->
              <a href='./DanfeCodigoBarras.html' id="botao_leiaute" title='Danfe/Código de Barras'>DANFE/Código de Barras NF-e</a>
              <a href='./DanfeQrCodeNFCe.html' title='Contingência NFC-e'>DANFE/QR Code NFC-e</a>
            </div>

            <div class="show_contingencia">
              <!--A classe show_contingencia garante que essas informações só serão exibidas dentro da aba de demais anexos quando a tela for inferior à 1100 pixels -->
              <a href='./Contingencia_NFe.html' title='Contingência NF-e'>Contingência NF-e</a>
              <a href='./ContingenciaNFCe.html' title='Contingência NFC-e'>Contingência NFC-e</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id='sub_barra'>
    <!-- Isso aqui estbelece uma divisao pra toda a parte abaixo da barra de navegacao-->
    <div id='menu_esq' style="display:none">
      <!-- isso aqui cria o menu lateral, à esquerda-->
      <div id='indice'>
        <!-- cria a parte interna do menu a esquerda-->
        <div id='indice_texto'>
          <!-- cria a parte interna da parte interna, para que fique abaixo da barra-->
          <!-- Aqui vai o índice específico dessa parte-->
          <!--<input type="text" id="myInput" onkeyup="pesquisa()" placeholder="Pesquisar índice..">  HABILITAR ESSE MENU QUANDO CONSEGUIR RESOLVER O PROBLEMA DOS ESPAÇOS-->

          <h4 style="text-align:center">DANFE NFC-e e QR Code</h4><br>

          <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("1. Leiaute de Impressão DANFE NFC-e")' title='1. Leiaute de Impressão DANFE NFC-e'>1. Leiaute de Impressão DANFE NFC-e</a><br>
          <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2. Modelos de Impressão do DANFE NFC-e")' title='2. Modelos de Impressão do DANFE NFC-e'>2. Modelos de Impressão do DANFE NFC-e</a>
          <ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1. Modelo do DANFE NFC-e")' title='2.1. Modelo do DANFE NFC-e'>2.1. Modelo do DANFE NFC-e</a><br>
            <ul>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.1. Divisão I - Informações do Cabeçalho")' title='2.1.1. Divisão I - Informações do Cabeçalho'>2.1.1. Divisão I - Informações do Cabeçalho</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.2. Divisão II – Informações de detalhes de produtos/serviços")' title='2.1.2. Divisão II – Informações de detalhes de produtos/serviços'>2.1.2. Divisão II –
                Informações de detalhes de produtos/serviços</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.3. Divisão III – Informações de Totais do DANFE NFC-e")' title='2.1.3. Divisão III – Informações de Totais do DANFE NFC-e'>2.1.3. Divisão III – Informações de
                Totais do DANFE NFC-e</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.4. Divisão IV – Informações da consulta via chave de acesso")' title='2.1.4. Divisão IV – Informações da consulta via chave de acesso'>2.1.4. Divisão IV –
                Informações da consulta via chave de acesso</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.5. Divisão V – Informações da consulta via QR Code")' title='2.1.5. Divisão V – Informações da consulta via QR Code'>2.1.5. Divisão V – Informações da consulta
                via QR Code</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.6. Divisão VI – Informações sobre o Consumidor")' title='2.1.6. Divisão VI – Informações sobre o Consumidor'>2.1.6. Divisão VI – Informações sobre o
                Consumidor</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.7. Divisão VII – Informações de Identificação da NFC-e e do Protocolo de Autorização")'
                title='2.1.7. Divisão VII – Informações de Identificação da NFC-e e do Protocolo de Autorização'>2.1.7. Divisão VII – Informações de Identificação da NFC-e e do Protocolo de Autorização</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.8. Divisão VIII – Área de Mensagem Fiscal")' title='2.1.8. Divisão VIII – Área de Mensagem Fiscal'>2.1.8. Divisão VIII – Área de Mensagem Fiscal</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.9. Divisão IX – Mensagem de Interesse do Contribuinte")' title='2.1.9. Divisão IX – Mensagem de Interesse do Contribuinte'>2.1.9. Divisão IX – Mensagem de
                Interesse do Contribuinte</a><br>
              <ul>
                <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.1.9.1. Informações exigidas pela Lei Federal nº 12.741/2012")' title='2.1.9.1. Informações exigidas pela Lei Federal nº 12.741/2012'>2.1.9.1. Informações
                  exigidas pela Lei Federal nº 12.741/2012</a><br>
              </ul>
            </ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.2. Exemplos de DANFE NFC-e")' title='2.2. Exemplos de DANFE NFC-e'>2.2. Exemplos de DANFE NFC-e</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.3. Requisitos do Papel e Margens do DANFE NFC-e")' title='2.3. Requisitos do Papel e Margens do DANFE NFC-e'>2.3. Requisitos do Papel e Margens do DANFE
              NFC-e</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("2.4. Dimensões mínimas do QR Code")' title='2.4. Dimensões mínimas do QR Code'>2.4. Dimensões mínimas do QR Code</a>
          </ul>
          <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3. Versão 2.00 do QR Code do DANFE NFC-e")' title='3. Versão 2.00 do QR Code do DANFE NFC-e'>3. Versão 2.00 do QR Code do DANFE NFC-e</a>
          <ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.1. Licença")' title='3.1. Licença'>3.1. Licença</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2. Geração da imagem do QR Code para NFC-e")' title='3.2. Geração da imagem do QR Code para NFC-e'>3.2. Geração da imagem do QR Code para NFC-e</a>
            <ul>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2.1. Parâmetros da URL do QR Code na emissão ONLINE")' title='3.2.1. Parâmetros da URL do QR Code na emissão ONLINE'>3.2.1. Parâmetros da URL do QR Code na
                emissão ONLINE</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE")' title='3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE'>3.2.2.
                Parâmetros da URL do QR Code na emissão em contingência OFFLINE</a><br>
            </ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3. Conceito e objetivo do hash do QR Code")' title='3.3. Conceito e objetivo do hash do QR Code'>3.3. Conceito e objetivo do hash do QR Code</a>
            <ul>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3.1. Geração do Hash do QR Code na emissão ONLINE")' title='3.3.1. Geração do Hash do QR Code na emissão ONLINE'>3.3.1. Geração do Hash do QR Code na emissão
                ONLINE</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE")' title='3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE'>3.3.2. Geração
                do Hash do QR Code na emissão em contingência OFFLINE</a><br>
            </ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.4. Exemplo de QR Code e Hash QR Code")' title='3.4. Exemplo de QR Code e Hash QR Code'>3.4. Exemplo de QR Code e Hash QR Code</a><br>
            <ul>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.4.1. Exemplo de QR Code para NFC-e ONLINE")' title='3.4.1. Exemplo de QR Code para NFC-e ONLINE'>3.4.1. Exemplo de QR Code para NFC-e ONLINE</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.4.2. Exemplo de QR Code e Hash QR Code para NFC-e OFFLINE")' title='3.4.2. Exemplo de QR Code e Hash QR Code para NFC-e OFFLINE'>3.4.2. Exemplo de QR Code e Hash
                QR Code para NFC-e OFFLINE</a><br>
            </ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.5. Configurações para QR Code")' title='3.5. Configurações para QR Code'>3.5. Configurações para QR Code</a><br>
            <ul>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.5.1. Capacidade de armazenamento")' title='3.5.1. Capacidade de armazenamento'>3.5.1. Capacidade de armazenamento</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.5.2. Capacidade de correção de erros")' title='3.5.2. Capacidade de correção de erros'>3.5.2. Capacidade de correção de erros</a><br>
              <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.5.3. Tipo de caracteres")' title='3.5.3. Tipo de caracteres'>3.5.3. Tipo de caracteres</a><br>
            </ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.6. Fornecimento do CSC")' title='3.6. Fornecimento do CSC'>3.6. Fornecimento do CSC</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.7. Implementação no sistema do contribuinte")' title='3.7. Implementação no sistema do contribuinte'>3.7. Implementação no sistema do contribuinte</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.8. URL da Consulta da NFC-e via  no XML - obrigatoriedade")' title='3.8. URL da Consulta da NFC-e via QR Code no XML - obrigatoriedade'>3.8. URL da Consulta da
              NFC-e via QR Code no XML - obrigatoriedade</a>
          </ul>
          <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("4. Consulta Pública NFC-e")' title='4. Consulta Pública NFC-e'>4. Consulta Pública NFC-e</a>
          <ul>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso")' title='4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso'>4.1. Consulta Pública de
              NFC-e via Digitação de Chave de Acesso</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("4.2. Consulta Pública de NFC-e via QRCode")' title='4.2. Consulta Pública de NFC-e via QRCode'>4.2. Consulta Pública de NFC-e via QRCode</a><br>
            <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("4.3. Tabela padronizada com os códigos e mensagens na consulta de NFC-e")' title='4.3. Tabela padronizada com os códigos e mensagens na consulta de NFC-e'>4.3.
              Tabela padronizada com os códigos e mensagens na consulta de NFC-e</a><br>
          </ul>



        </div>
      </div>
    </div>


    <div class='corpo'>
      <div id='principal'>
        <!-- Aqui vão as tabelas e o texto do MOC -->

        <h1>DANFE NFC-e e QR Code</h1><br><br>
        <h2 id="1. Leiaute de Impressão DANFE NFC-e">1. Leiaute de Impressão DANFE NFC-e</h2>

        <p>Este capítulo descreve o leiaute de impressão do Documento Auxiliar da NFC-e
          pelo contribuinte, chamado de DANFE NFC-e, assim como os requisitos mínimos do
          Detalhe da Venda que poderá constar do DANFE NFC-e, a critério do consumidor final e da
          UF.</p>

        <p>Algumas considerações acerca da impressão do DANFE NFC-e:</p>

        <ul>
          <ul class="disco">
            <li>O DANFE NFC-e é um documento fiscal auxiliar, sendo apenas uma representação
              simplificada em papel da transação de venda no varejo, de forma a facilitar a consulta do
              documento fiscal eletrônico, no ambiente da SEFAZ, pelo consumidor final;</li>
            <li>A impressão do DANFE NFC-e é efetuada diretamente pelo aplicativo do contribuinte em
              impressora comum (não fiscal), com base nas informações do arquivo eletrônico XML da
              NFC-e;</li>
            <li>No DANFE NFC-e não devem ser inseridas informações que não constem do respectivo
              arquivo eletrônico XML da NFC-e, exceto as informações do XML de retorno da
              autorização da NFCe (ex.: protocolo autorização, cMsg e xMsg);</li>
            <li>Poderá ser impresso apenas o DANFE NFC-e resumido ou ecológico, sem o
              detalhamento dos itens da venda, desde que a Unidade Federada permita esta opção em
              sua legislação e o consumidor assim o solicite. O consumidor que aceitar receber
              somente o DANFE NFC-e resumido poderá, posteriormente, solicitar ao emissor a
              impressão, sem custo, do correspondente DANFE NFC-e completo. O consumidor
              também poderá imprimir o DANFE NFC-e completo apresentado no portal da Secretaria
              da Fazenda em resposta à consulta pública pela chave de acesso ou pela leitura do QR
              Code. O prazo máximo de que dispõe o consumidor para a solicitação de impressão do
              DANFE NFC-e completo (com detalhe de itens) ao emitente corresponde ao prazo de
              garantia da mercadoria, segundo o código de defesa do consumidor;</li>
            <li>O contribuinte emitente de NFC-e fica dispensado de enviar ou disponibilizar download
              ao consumidor do arquivo XML da NFC-e, exceto se o consumidor assim o solicitar,
              desde que antes de iniciada a emissão da NFC-e;</li>
            <li>A legislação estadual poderá facultar que, por opção do adquirente da mercadoria, o
              DANFE NFC-e ter sua impressão substituída pelo envio em formato eletrônico ou pelo
              envio da chave de acesso do documento fiscal a qual ele se refere, ou ainda, seja
              impresso apenas o DANFE NFC-e resumido, sem a impressão do detalhe dos itens de
              mercadoria.</li>
            <p>A legibilidade do texto impresso no DANFE NFC-e, assim como a durabilidade
              do papel empregado, deverão ser garantidos, no mínimo, pelo prazo de (6) seis meses.</p>



          </ul>
        </ul>


        <h2 id="2. Modelos de Impressão do DANFE NFC-e">2. Modelos de Impressão do DANFE NFC-e</h2>
        <h3 id="2.1. Modelo do DANFE NFC-e">2.1. Modelo do DANFE NFC-e</h3>

        <p>Seguem nas figuras abaixo as divisões de informações que compõem o DANFE NFC-e.</p>

        <figure>
          <figcaption>Modelo DANFE NFC-e – QR Code na lateral</figcaption>
          <img src="./Imagens/DANFEQRCodeLateral.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>
        <br><br>
        <figure>
          <figcaption>Modelo DANFE NFC-e - QR Code centralizado</figcaption><br><br>
          <img src="./Imagens/DANFEQRCodeCentralizado.png" alt="DANFE NFC-e QR Code centralizado" style="width:auto;">
        </figure>


        <h4 id="2.1.1. Divisão I - Informações do Cabeçalho">2.1.1. Divisão I - Informações do Cabeçalho</h4>

        <p>O cabeçalho deverá conter as seguintes informações:</p>
        <ul>
          <ul class="disco">
            <li>CNPJ do Emitente – formatado com a máscara 99.999.999/9999-99 (ID: C02, tag: CNPJ);</li>
            <li>Razão Social do Emitente (ID: C03, tag: xNome);</li>
            <li>Endereço Completo do Emitente sem a indicação do país</li>
            <li>Texto: “Documento Auxiliar da Nota Fiscal de Consumidor Eletrônica”.</li>
          </ul>
        </ul>

        <p>A critério do emissor da NFC-e poderá ser incluído, no canto esquerdo desta divisão, o logotipo da empresa ou o logotipo da NFC-e.</p>


        <h4 id="2.1.2. Divisão II – Informações de detalhes de produtos/serviços">2.1.2. Divisão II – Informações de detalhes de produtos/serviços</h4>


        <figure>
          <figcaption>Detalhes de produtos/serviços</figcaption><br><br>
          <img src="./Imagens/DetalhesProdutosServicos.png" alt="DANFE NFC-e QR Code centralizado" style="width:auto;">
        </figure>


        <p>A divisão II (exibida acima) corresponde ao local onde poderão ser impressas as informações de detalhamento dos produtos/serviços adquiridos. A critério da Unidade Federada poderá ser autorizado ao emissor de NFC-e, pela legislação
          estadual,
          imprimir o DANFE NFC-e sem o detalhamento dos itens de mercadoria/serviço, desde que o consumidor esteja de acordo. Nesta hipótese não existirá a divisão II no DANFE NFC-e.</p>

        <p>Caso exista a divisão II, não são reguladas as posições das informações dos detalhes de produtos/serviços e forma de sua impressão, mas são obrigatórias, no mínimo, as seguintes informações:</p>
        <ul>
          <ul class="disco">
            <li>Código: código do produto adotado pelo estabelecimento (ID: I02, tag: cProd);</li>
            <li>Descrição: descrição do produto (ID: I04, tag: xProd);</li>
            <li>Qtde: quantidade de unidades do produto adquiridas pelo consumidor (ID: I10, tag: qCom);</li>
            <li>Um: unidade de medida do produto (ID: I09, tag: uCom);</li>
            <li>Valor unit.: valor de uma unidade do produto (ID: I10a, tag: vUnCom);</li>
            <li>Valor total: valor total do produto (ID: I11, tag: vProd).</li>
          </ul>
        </ul>

        <p>As informações de valores devem ter as casas decimais separadas por vírgula e ser utilizado ponto para a indicação de milhar.</p>

        <h4 id="2.1.3. Divisão III – Informações de Totais do DANFE NFC-e">2.1.3. Divisão III – Informações de Totais do DANFE NFC-e</h4>


        <figure>
          <figcaption>Informações de Totais do DANFE NFC-e</figcaption><br><br>
          <img src="./Imagens/InformacoesTotaisDanfe.png" alt="Informações de Totais do DANFE NFC-e" style="width:auto;">
        </figure>

        <p>Esta divisão define os totais que deverão ser impressos no DANFE NFC-e de
          acordo com o detalhamento abaixo:</p>
        <ul>
          <ul class="disco">
            <li>Qtde. Total de Itens: somatório da quantidade de itens (observação: a quantidade de itens refere-se à quantidade de itens de produtos/serviços distintos na NFC-e não guardando qualquer relação com a soma de quantidade de
              produtos/serviços);</li>
            <li>Valor Total R$: somatório dos valores totais dos itens;</li>
            <li>Acréscimos (frete, seguro e outras despesas) /Desconto R$: somatório dos valores dos itens dos acréscimos (frete, seguro e outras despesas) e dos descontos (deve ser impresso a linha apenas se existir acréscimo ou desconto) ) (IDs:
              W08, W09, W10 e W15, tags: vFrete, vSeg, vDesc e vOutro);
              <br>OBS.: Estas informações, a critério da UF, podem estar descriminadas por item (IDs: I15, I16, I17 e I17a, tags: vFrete, vSeg, vDesc e vOutro).
            </li>
          </ul>
        </ul>


        <figure>
          <img src="./Imagens/InformacoesTotaisDanfeCriterioUF.png" alt="Informações de Totais do DANFE NFC-e" style="width:auto;">
        </figure>

        <ul>
          <ul class="disco">
            <li>Valor a Pagar R$: somatório dos valores totais dos itens somados os acréscimos e subtraído dos descontos (deve ser impresso apenas se existir acréscimo ou desconto) (ID: W16, tag: vNF);</li>
            <li>FORMA PAGAMENTO: forma na qual o pagamento da NFC-e foi efetuado (podem ocorrer mais de uma forma de pagamento, devendo neste caso ser indicado o montante parcial do pagamento para a respectiva forma. Exemplo: em dinheiro, em cheque e
              etc(ID: YA02, tag: tPag);</li>
            <li>Valor Pago: valor pago efetivamente em cada forma de pagamento pagamento (ID: YA03, tag: vPag);</li>
            <li>Troco: valor do troco (ID: YA09, tag: vTroco).</li>
          </ul>
        </ul>

        <p>As informações de valores devem ter as casas decimais separadas por vírgula e
          ser utilizado ponto para a indicação de milhar.</p>

        <p>A informação do troco será obrigatória a partir da nova versão do leiaute da
          NFC-e, conforme NT 2016.002.</p>

        <h4 id="2.1.4. Divisão IV – Informações da consulta via chave de acesso">2.1.4. Divisão IV – Informações da consulta via chave de acesso</h4>

        <p>Esta divisão contém as informações referentes à consulta NFC-e. Deve iniciar com o texto “Consulte pela Chave de Acesso em ” seguido do endereço eletrônico para consulta pública da NFC-e no Portal da Secretaria da Fazenda da Unidade
          Federada do
          contribuinte (endereços disponíveis no <a href="http://nfce.encat.org/consumidor-nfce/consulte-nota-nfce/">Portal Nacional da NFCe</a>, e a chave de acesso impressa em 11 blocos de
          quatro dígitos, com um espaço entre cada bloco.</p>

        <p>A URL da consulta chaves da NFC-e deve constar do arquivo XML da NFC-e, no campo destinado às Informações Suplementares da Nota Fiscal (tag ZX-03).</p>


        <h4 id="2.1.5. Divisão V – Informações da consulta via QR Code">2.1.5. Divisão V – Informações da consulta via QR Code</h4>

        <p>A divisão V corresponde à área de impressão no DANFE NFC-e do QR Code. A
          imagem do QR Code poderá ser impressa à esquerda das informações exigidas nas
          Divisões VI e VII, conforme figura 4, ou centralizada, conforme figura 5, e deve ter tamanho
          mínimo 25 mm x 25mm, sendo 22 mm de conteúdo para 3 mm de margem segura (quiet
          zone), para dimensões superiores a 25 mm, considerar a margem segura de 10% da
          dimensão total.</p>



        <figure>
          <figcaption>Layout DANFE NFC-e QR Code à esquerda</figcaption>
          <img src="./Imagens/ConsultaQRCodeEsquerda.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>



        <figure>
          <figcaption>Layout DANFE NFC-e QR Code centralizado</figcaption>
          <img src="./Imagens/ConsultaQRCodeCentralizado.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>


        <h4 id="2.1.6. Divisão VI – Informações sobre o Consumidor">2.1.6. Divisão VI – Informações sobre o Consumidor</h4>

        <p>Nesta Divisão deve ser informada a identificação do consumidor no DANFE
          NFC-e, à direita ou antes da Divisão V, conforme exemplo nas figuras 4 ou 5. Deverá
          constar uma das seguintes opções, em caixa alta, conforme o caso: “CONSUMIDOR CNPJ:”
          e o respectivo CNPJ (ID: E02, tag: CNPJ); “CONSUMIDOR CPF:” e o respectivo CPF(ID:
          E03, tag: CPF); ou “CONSUMIDOR Id. Estrangeiro:” e a respectiva identificação do
          estrangeiro (ID: E03a, tag: idEstrangeiro), como passaporte, ou documento de identificação
          do respectivo país. As informações de CNPJ, CPF ou de identificação de estrangeiro
          somente deverão ser impressas se constarem do arquivo eletrônico da NFC-e em
          decorrência de NFC-e de valor igual ou superior a R$ 10.000,00 (valor que poderá ser
          menor, <a href="http://nfce.encat.org/desenvolvedor/regras-de-validacao/">a critério da UF</a>), NFC-e
          para entrega em domicílio ou atendendo pedido de identificação do consumidor.</p>

        <p>Poderá ser incluída nesta divisão também o nome do consumidor e/ou seu
          endereço. No caso de emissão de NFC-e com entrega em domicílio é obrigatória a
          impressão do nome do consumidor e do endereço de entrega.</p>

        <p>Na hipótese do consumidor não desejar ser identificado, e em se tratando de
          NFC-e de valor inferior a R$ 10.000,00 (valor a critério da UF) e que não se refira a entrega
          em domicílio, deverá ser impressa apenas nesta divisão a mensagem “CONSUMIDOR NÃO
          IDENTIFICADO”.</p>


        <h4 id="2.1.7. Divisão VII – Informações de Identificação da NFC-e e do Protocolo de Autorização">2.1.7. Divisão VII – Informações de Identificação da NFC-e e do Protocolo de Autorização</h4>

        <p>As informações da divisão VII deverão ser impressas em uma das formas
          indicadas nas figuras acima, devendo conter:</p>

        <ul>
          <ul class="disco">
            <li>Número da NFC-e (ID: B08, tag: nNF)</li>
            <li>Série da NFC-e (ID: B07, tag: serie)</li>
            <li>Data e Hora de Emissão da NFC-e (ID: B09, tag: dhEmi), convertida para o horário local
              (apesar da data de emissão constar no arquivo XML da NFC-e em formato UTC, esta
              data deverá ser impressa no DANFE NFC-e sempre convertida para o horário local)</li>
            <li>O texto “Protocolo de autorização: ” seguido do número do protocolo de autorização (ID:
              PR09, tag: nProt) obtido para NFC-e e a data e hora da autorização (ID: PR08, tag:
              dhRecbto). A data de autorização é fornecida pela SEFAZ no formato UTC e deve ser
              impressa no DANFE NFCe convertida para o horário local. No caso de emissão em
              contingência a informação sobre o protocolo de autorização será suprimida.</li>
          </ul>
        </ul>


        <h4 id="2.1.8. Divisão VIII – Área de Mensagem Fiscal">2.1.8. Divisão VIII – Área de Mensagem Fiscal</h4>

        <p>Esta divisão é reservada para a impressão de mensagens de interesse fiscal que
          constem do campo informações fiscais do arquivo eletrônico da NFC-e (tag: infAdFisco) ou,
          a critério da UF, a tag xMsg contida no XML de retorno da autorização da NFC-e.</p>
        <p>Na hipótese de emissão de NFC-e em contingência é obrigatório imprimir em
          destaque o texto em duas linhas: “EMITIDA EM CONTINGÊNCIA Pendente de autorização”.
          O texto deve ser exibido em dois locais no documento</p>

        <ul>
          <ul class="disco">
            <li>Abaixo do cabeçalho (divisão I): centralizado em duas linhas, entre bloco de linhas, conforme imagem a seguir.</li>
            <li>Abaixo da identificação da NFC-e (divisão VII) em duas linhas, conforme imagem a seguir.</li>
          </ul>
        </ul>



        <figure>
          <figcaption>DANFE NFC-e emitida em contingência</figcaption>
          <img src="./Imagens/DanfeNFCeMensagemFiscal.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>


        <p>Ainda na hipótese contingência, deverá ser impressa uma segunda via do
          DANFE NFC-e que deverá permanecer a disposição do Fisco no estabelecimento até que
          tenha sido transmitida e autorizada a respectiva NFC-e emitida em contingência. Esta
          obrigação poderá, a critério da Unidade Federada, ser dispensada. Alternativamente à
          impressão da segunda via do DANFE NFC-e quando de emissão em contingência, o
          contribuinte poderá optar pela guarda eletrônica, em local seguro, do respectivo arquivo
          XML da NFC-e que deve possibilitar impressão do respectivo DANFE NFC-e para
          apresentação ao fisco quando solicitado.</p>

        <p>Para poder fazer uso desta opção de guarda eletrônica do arquivo XML emitido
          em contingência, deverá, previamente, lavrar termo no livro Registro de Utilização de
          Documentos Fiscais e Termos de Ocorrência - modelo 6, ou formalizar declaração de opção
          segundo disciplina que vier a ser estabelecida por sua Unidade Federada, assumindo total
          responsabilidade pela guarda do arquivo e declarando ter ciência que não poderá,
          posteriormente, alegar problemas técnicos para justificar a eventual perda desta informação
          eletrônica que está sob sua posse, assumindo as consequências legais por ventura
          cabíveis.</p>

        <p>Para qualquer NFC-e emitida em ambiente de homologação é obrigatório
          imprimir nesta área, de forma centralizada e em caixa alta, o seguinte texto: “EMITIDA EM
          AMBIENTE DE HOMOLOGAÇÃO – SEM VALOR FISCAL”.</p>

        <p>No caso de emissão de NFC-e em contingência, a 2ª via do DANFE NFC-e
          deverá ser identificada com a impressão ao lado da data e hora da emissão do texto “Via do
          Estabelecimento”.</p>


        <h4 id="2.1.9. Divisão IX – Mensagem de Interesse do Contribuinte">2.1.9. Divisão IX – Mensagem de Interesse do Contribuinte</h4>

        <p>Esta divisão corresponde à parte final do DANFE NFC-e e corresponde à área
          em que poderão ser impressas mensagens de interesse do contribuinte que façam parte do
          arquivo eletrônico da NFC-e no campo informações complementares do contribuinte (ID:
          Z03, tag: infCpl).</p>

        <p>Caso o contribuinte queira imprimir, no mesmo papel do DANFE NFC-e,
          mensagens institucionais ou outras informações que não estejam no arquivo XML da NFC-e,
          as mesmas deverão ser apresentadas logo após o final do DANFE NFCe (imediatamente
          após a divisão IX de mensagem de interesse do contribuinte).</p>


        <h4 id="2.1.9.1. Informações exigidas pela Lei Federal nº 12.741/2012">2.1.9.1. Informações exigidas pela Lei Federal nº 12.741/2012</h4>

        <p>A critério do emissor da NFC-e poderão ser impressas na área de mensagem de
          interesse do contribuinte (divisão IX) as informações exigidas pela Lei Federal nº 12.741, de
          10 de dezembro de 2012, que trata da discriminação da carga tributária nos documentos
          fiscais. No leiaute atual da NF-e e NFC-e existe apenas um campo de valor total de tributos
          por item de mercadoria (campo 183a – vTotTrib) e um campo de valor total de tributos no
          documento fiscal (campo 341a – vTotTrib).</p>

        <p>Estes campos não são de preenchimento obrigatório e têm natureza informativa
          ao consumidor sobre a carga tributária total do produto ou serviço, e portanto, não é
          possível ser feita qualquer validação com relação a soma de tributos destacados na NF-e ou
          NFC-e.</p>

        <p>Fica facultado ao contribuinte emissor de NFC-e que assim desejar, imprimir
          também na divisão II do detalhe de produtos/serviços o valor total de carga tributária por
          item de mercadoria.</p>

        <p>Também é Importante ressaltar que, alternativamente à impressão de
          informação no documento fiscal, a lei 12.741/12 possibilita a empresa que detalhe a carga
          tributária por produto por meio de painel afixado ou meio eletrônico disponível ao
          consumidor no estabelecimento.</p>


        <h3 id="2.2. Exemplos de DANFE NFC-e">2.2. Exemplos de DANFE NFC-e</h3>

        <p>Para facilitar aos emissores e aos desenvolvedores de NFC-e apresentamos a
          seguir alguns exemplos hipotéticos de DANFE NFC-e.</p>

        <figure>
          <figcaption>
            <div class="negrito">Exemplo 1: </div>DANFE NFC-e normal com vários itens e sem identificação do consumidor
          </figcaption>
          <img src="./Imagens/Exemplo1NFCeCompleto.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>

        <figure>
          <img src="./Imagens/Exemplo1NFCeResumido.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>

        <figure>
          <figcaption>
            <div class="negrito">Exemplo 2: </div>DANFE NFC-e normal com 2 itens, 2 formas de pagamento, desconto, frete (ou
            taxa de entrega), entrega em domicílio e com identificação do consumidor (com endereço
            entrega)
          </figcaption>
          <img src="./Imagens/Exemplo2NFCeCompleto.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>

        <figure>
          <img src="./Imagens/Exemplo2NFCeResumido.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>


        <figure>
          <figcaption>
            <div class="negrito">Exemplo 3: </div>DANFE NFC-e com Logo da Empresa, NFC-e Contingência com 2 itens, 2
            formas de pagamento e com identificação do consumidor
          </figcaption>
          <img src="./Imagens/Exemplo3ViaConsumidor.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>



        <figure>
          <img src="./Imagens/Exemplo3ViaEmpresa.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>

        <h3 id="2.3. Requisitos do Papel e Margens do DANFE NFC-e">2.3. Requisitos do Papel e Margens do DANFE NFC-e</h3>

        <p>Na impressão do DANFE NFC-e deve ser utilizado papel com largura mínima de
          56 mm. O papel utilizado deve garantir a legibilidade das informações impressas por, no
          mínimo, seis meses. As margens laterais deverão ter, no mínimo, 2 mm em cada lateral.</p>
        <p>Não existe restrição que se imprima o DANFE NFC-e em outros tamanhos de
          papel, que pode ser impresso, em papel do padrão A4 (cujas dimensões são de 210 mm x
          297 mm, conforme norma ISSO 2016).</p>
        <p>Não é permitida, em nenhuma hipótese, a impressão do DANFE NFC-e em
          Equipamento Emissor de Cupom Fiscal – ECF, ainda que em modo de relatório gerencial.</p>



        <h3 id="2.4. Dimensões mínimas do QR Code">2.4. Dimensões mínimas do QR Code</h3>

        <p>A dimensão mínima para a imagem do QR Code será 25 mm X 2 5mm (sendo
          22 mm de conteúdo para 3 mm de margem segura – “quiet zone”), tendo em vista ter sido
          está a menor dimensão que se conseguiu leitura em dispositivos móveis que não possuem
          zoom (aproximação de imagem). Para dimensões superiores a 25 mm, considerar a
          margem segura de 10% da dimensão total.</p>

        <p>É importante que seja observada a margem de segurança necessária para
          proporcionar uma melhor leitura do QRCode e evitar erros de leitura nos dispositivos.</p>


        <h2 id="3. Versão 2.00 do QR Code do DANFE NFC-e">3. Versão 2.00 do QR Code do DANFE NFC-e</h2>

        <p>O QR code é um código de barras bidimensional que foi criado em 1994 pela
          empresa japonesa Denso-Wave. QR significa "quick response" devido à capacidade de ser
          interpretado rapidamente. Esse tipo de codificação permite que possa ser armazenada uma
          quantidade significativa de caracteres:</p>

        <p>
        <div class="negrito">Numéricos: </div>7.089<br>
        <div class="negrito">Alfanumérico: </div>4.296<br>
        <div class="negrito">Binário (8 bits):</div> 2.953</p>

        <p> O QR code a ser impresso na Nota Fiscal do Consumidor eletrônica – NFC-e
          seguirá o padrão internacional ISO/IEC 18004.</p>


        <figure>
          <img src="./Imagens/PadraoQRCode.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>


        <p>O QR Code deverá existir no DANFE NFC-e relativo à emissão em operação
          normal ou em contingência, seja ele impresso ou virtual (DANFE NFC-e em mensagem
          eletrônica).</p>
        <p>A impressão do QR Code no DANFE NFC-e tem a finalidade de facilitar a
          consulta dos dados do documento fiscal eletrônico pelos consumidores, mediante leitura
          com o uso de aplicativo leitor de QR Code, instalado em smartphones ou tablets.</p>
        <p>Atualmente existem no mercado, inúmeros aplicativos gratuitos para
          smartphones que possibilitam a leitura de QR Code.</p>
        <p>Esta tecnologia tem sido amplamente difundida e é de crescente utilização como
          forma de comunicação.</p>

        <figure>
          <img src="./Imagens/LeituraQRCode.png" alt="ConsultaQRCodeEsquerda" style="width:auto;">
        </figure>

        <h3 id="3.1. Licença">3.1. Licença</h3>

        <p>O uso do código QR é livre, sendo definido e publicado como um padrão ISO. Os
          direitos de patente pertencem a Denso Wave, mas a empresa escolheu não os exercer,
          sendo que o termo QR Code é uma marca registrada da Denso Wave Incorporated.</p>


        <h3 id="3.2. Geração da imagem do QR Code para NFC-e">3.2. Geração da imagem do QR Code para NFC-e</h3>

        <p>A imagem do QR Code deverá ser impressa no DANFE NFC-e com os padrões
          residentes das impressoras de não impacto (térmica, laser ou deskjet), conforme mostrado
          no item 3.2, tendo largura e altura mínimas de 25 mm x 25 mm. A largura e altura mínimas
          foram definidas conforme testes realizados, nos quais o leitor de QR Code conseguiu ler a
          imagem.</p>
        <p>A imagem do QR Code deverá conter uma URL composta com as seguintes
          informações:</p>

        <ul>
          <ul>
            <table style="border-collapse:collapse">
              <tr style="background-color:#B0C4DE">
                <td style="border-right:hidden; font-weight: bold; color:blue;">1ª Parte:</td>
                <td>Endereço do site da Secretaria da Fazenda de localização do emitente da NFC-e. Exemplo: <a href="">http://www.sefazexemplo.gov.br/nfce/qrcode?p=</a></td>
              </tr>
              <tr>
                <td style="border-right:hidden; font-weight: bold; color:blue;">2ª Parte:</td>
                <td>Parâmetros constantes da tabela 2 para emissão online ( <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2.1. Parâmetros da URL do QR Code na emissão ONLINE")'
                    title='3.2.1. Parâmetros da URL do QR Code na emissão ONLINE'>item 3.2.1.</a>
                  ) e da tabela 3 para emissão em contingência off-line (<a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE")'
                    title='3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE'>item 3.2.2.</a>), utilizando query string.</a></td>
              </tr>
            </table>
          </ul>
        </ul>

        <p>Os endereços de consulta a serem utilizados no QR Code para as Unidades
          Federadas participantes do Projeto NFC-e em ambiente de produção e ambiente de
          homologação estão disponíveis no <a href="http://nfce.encat.org/desenvolvedor/qrcode/">Portal Nacional da NFC-e.</a></p>
        <p>A critério da Unidade Federada poderá ser utilizado o mesmo endereço para
          consulta no ambiente de produção e ambiente de homologação. Neste caso, a distinção
          entre os ambientes de consulta será feita diretamente pela aplicação da UF, a partir do
          conteúdo do parâmetro de identificação do ambiente, constante do QR Code.</p>
        <p>O QR Code deverá ser impresso com os padrões residentes das impressoras de
          não impacto (térmica, laser ou deskjet).</p>
        <p>A URL do QR code deverá ser composta de duas maneiras diferentes: uma para
          NFC-e emitidas de forma online (sem contingência), e outra para as NFC-e emitidas na
          contingência off-line.</p>


        <h4 id="3.2.1. Parâmetros da URL do QR Code na emissão ONLINE">3.2.1. Parâmetros da URL do QR Code na emissão ONLINE</h4>

        <ul>
          <ul>
            <table style="border-collapse:collapse; text-align:center;">
              <tr style="color:#6495ED">
                <td style="border-left:hidden; width:10px;">Posição</td>
                <td style="border-left:hidden; width:150px;">Descrição do Parâmetro</td>
                <td style="border-left:hidden; width:10px;">Bytes</td>
                <td style="border-left:hidden; border-right: hidden; width:350px;">Orientações de preenchimento</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">1º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Chave de Acesso da NFC-e</td>
                <td style="border-left:hidden; border-bottom:hidden;">44*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar a chave de acesso da NFC-e</td>
              </tr>
              <tr>
                <td style="border-left:hidden; border-bottom:hidden;">2º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Versão do QR Code</td>
                <td style="border-left:hidden; border-bottom:hidden;">1*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Para esta versão de documento, preencher o com “2”.</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">3º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Identificação do Ambiente (1 –Produção, 2 –Homologação)</td>
                <td style="border-left:hidden; border-bottom:hidden;">1*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar valor do campo B24 do leiaute NFC-e.</td>
              </tr>
              <tr>
                <td style="border-left:hidden; border-bottom:hidden;">4º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Identificador do CSC (Código de Segurança do Contribuinte no Banco de Dados da SEFAZ)</td>
                <td style="border-left:hidden; border-bottom:hidden;">1-6</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Deve ser informado sem os “0” (zeros) não significativos. A identificação do CSC corresponde a ordem do CSC no banco de dados da SEFAZ, não confundir com o
                  próprio CSC.</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; ">5º</td>
                <td style="border-left:hidden; ">Código Hash dos Parâmetros</td>
                <td style="border-left:hidden; ">40*</td>
                <td style="border-left:hidden; border-right: hidden; ">Ver geração do Hash do QR Code na emissão Online na seção <a href='javascript:void(0);' id="botao_meiodatela"
                    onclick='meiodatela("3.3.1. Geração do Hash do QR Code na emissão ONLINE")' title='3.3.1. Geração do Hash do QR Code na emissão ONLINE'>3.3.1.</a> deste documento.</td>
              </tr>
            </table>
          </ul>
        </ul>

        <p>O asterisco (*) na tabela acima indica que o preenchimento deve ser exato com a quantidade de bytes indicada.</p>

        <p>Dessa forma, o modelo da URL na emissão online, será:</p>

        <ul>
          <ul>
            <table style="border-collapse:collapse; background-color:lightgray;">
              <tr>
                <td>http://&lt;dominio&gt;/nfce/qrcode?p=&lt;chave_acesso&gt;|&lt;versao_qrcode&gt;|&lt;tipo_ambiente&gt;|&lt;identificador_csc&gt;|&lt;codigo_hash&gt;</td>
              </tr>
            </table>
          </ul>
        </ul>

        <h4 id="3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE">3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE</h4>

        <ul>
          <ul>
            <table style="border-collapse:collapse; text-align:center;">
              <tr style="color:#6495ED">
                <td style="border-left:hidden; width:10px;">Posição</td>
                <td style="border-left:hidden; width:150px;">Descrição do Parâmetro</td>
                <td style="border-left:hidden; width:10px;">Bytes</td>
                <td style="border-left:hidden; border-right: hidden; width:350px;">Orientações de preenchimento</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">1º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Chave de Acesso da NFC-e</td>
                <td style="border-left:hidden; border-bottom:hidden;">44*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar a chave de acesso da NFC-e</td>
              </tr>
              <tr>
                <td style="border-left:hidden; border-bottom:hidden;">2º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Versão do QR Code</td>
                <td style="border-left:hidden; border-bottom:hidden;">1*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Para esta versão de documento, preencher o com “2”.</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">3º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Identificação do Ambiente (1 –Produção, 2 –Homologação)</td>
                <td style="border-left:hidden; border-bottom:hidden;">1*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar valor do campo B24 do leiaute NFC-e.</td>
              </tr>
              <tr>
                <td style="border-left:hidden; border-bottom:hidden;">4º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Dia da data de emissão</td>
                <td style="border-left:hidden; border-bottom:hidden;">2*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar o dia da data de emissão, que consta no campo B09 do leiaute NFC-e. O valor deverá terexatamente dois dígitos.</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">5º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Valor Total da NFC-e</td>
                <td style="border-left:hidden; border-bottom:hidden;">15</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Informar valor do campo W16 do leiaute NFC-e. O valor deve ser informados com ponto (“.”) como separador decimal; não informar separador de milhar ou sinais
                </td>
              </tr>
              <tr>
                <td style="border-left:hidden; border-bottom:hidden;">6º</td>
                <td style="border-left:hidden; border-bottom:hidden;">DigestValue da NFCe</td>
                <td style="border-left:hidden; border-bottom:hidden;">56*</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Corresponde ao algoritmo SHA1 sobre o arquivo XML
                  da NFC-e, convertido para formato hexadecimal. Ao
                  se efetuar a assinatura digital da NFC-e emitida em
                  contingência off-line, o campo digestvalue constante
                  da XML Signature deve obrigatoriamente ser idêntico
                  ao encontrado quando da geração do digestvalue
                  para a montagem QR Code.</td>
              </tr>
              <tr style="background-color:#B0C4DE">
                <td style="border-left:hidden; border-bottom:hidden;">7º</td>
                <td style="border-left:hidden; border-bottom:hidden;">Identificador do CSC (Código de Segurança do Contribuinte no Banco de Dados da SEFAZ)</td>
                <td style="border-left:hidden; border-bottom:hidden;">1-6</td>
                <td style="border-left:hidden; border-bottom:hidden; border-right: hidden; ">Deve ser informado sem os “0” (zeros) não significativos. A identificação do CSC corresponde a ordem do CSC no banco de dados da SEFAZ, não confundir com o
                  próprio CSC.</td>
              </tr>
              <tr>
                <td style="border-left:hidden; ">8º</td>
                <td style="border-left:hidden; ">Código Hash dos Parâmetros</td>
                <td style="border-left:hidden; ">40*</td>
                <td style="border-left:hidden; border-right: hidden; ">Ver geração do Hash do QR Code na emissão Online na seção <a href='javascript:void(0);' id="botao_meiodatela"
                    onclick='meiodatela("3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE")' title='3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE'>3.3.2. </a> deste documento.</td>
              </tr>
            </table>
          </ul>
        </ul>

        <p>O asterisco (*) na tabela acima indica que o preenchimento deve ser exato com
          a quantidade de bytes indicada.</p>
        <p>Dessa forma, o modelo da URL na emissão contingência offline, será:</p>

        <ul>
          <ul>
            <table style="border-collapse:collapse; background-color:lightgray;">
              <tr>
                <td>http://&lt;dominio&gt;/nfce/qrcode/?p=&lt;chave_acesso&gt;|&lt;versao_qrcode&gt;|&lt;tipo_ambiente&gt;|&lt;dia_data_emissao&gt;|&lt;valor_total_nfce&gt;|&lt;digVal&gt;|&lt;identificador_csc&gt;|&lt;codigo_hash&gt;</td>
              </tr>
            </table>
          </ul>
        </ul>


        <h3 id="3.3. Conceito e objetivo do hash do QR Code">3.3. Conceito e objetivo do hash do QR Code</h3>

        <p>A fim de garantir maior segurança ao processo da NFC-e no que diz respeito à
          impressão do DANFE NFC-e e à geração de QR Code, foi incluído o parâmetro “hash do
          QR Code”.</p>
        <p>Este hash é gerado sobre um conjunto padrão de informações essenciais da
          NFC-e e também sobre CSC – Código de Segurança do Contribuinte válido para a
          empresa na Unidade Federada.</p>
        <p>O CSC corresponde a um código de segurança alfanumérico (16 a 36 bytes) de
          conhecimento apenas da Secretaria da Fazenda da Unidade Federada do emitente e do
          próprio contribuinte. Importante destacar que até versão anterior deste manual (versão 3.2)
          o código de segurança CSC era chamado de “Token”, todavia optou-se pela adequação do
          nome para minimizar eventuais confusões decorrentes da palavra “token”.</p>
        <p>Desta forma é possível garantir a autoria do DANFE NFC-e e do respectivo QR
          Code pois somente o Fisco e o contribuinte emissor conhecem o valor válido do CSC para
          aqula empresa na UF.</p>
        <p>Para a geração do hash do QR Code sobre os parâmetros da consulta NFC-e
          via QR Code, deve ser utilizado o algoritmo SHA-1 e o resultado obtido deve ser convertido
          para hexadecimal, correspondendo a 40 bytes. Informações adicionais sobre esse algoritmo
          podem ser encontradas no endereço eletrônico <a href="http://pt.wikipedia.org/wiki/SHA1">http://pt.wikipedia.org/wiki/SHA1.</a></p>
        <p>Para verificar se a conversões realizadas do HEXA do digestvalue e SHA-1 do
          hash do QR Code estão corretas ou não, foi disponibilizada uma página de validação da
          URL no <a href="http://www.nfce.se.gov.br/portal/portalNoticias.jsp?jsp=barra-menu/servicos/validadorSHA1HEXA.htm">Portal Nacional NFC-e</a></p>



        <h4 id="3.3.1. Geração do Hash do QR Code na emissão ONLINE">3.3.1. Geração do Hash do QR Code na emissão ONLINE</h4>

        <p>Os passos para geração do Hash do QR Code na emissão online estão descritos
          a seguir e exemplificados na seção:</p>
        <ul>
          <ul class="disco">
            <li>
              <div class="negrito">Passo 1:</div> Concatenar os parâmetros de 1 a 4 constantes da tabela presente na seção <a href='javascript:void(0);' id="botao_meiodatela"
                onclick='meiodatela("3.2.1. Parâmetros da URL do QR Code na emissão ONLINE")' title='3.2.1. Parâmetros da URL do QR Code na emissão ONLINE'>3.2.1.</a>) separados por “|” na ordem indicada;
            </li>
            <li>
              <div class="negrito">Passo 2:</div> Adicionar ao final da string o CSC (disponibilizado pela SEFAZ da UF onde a empresa está localizada);
            </li>
            <li>
              <div class="negrito">Passo 3:</div> Aplicar o algoritmo SHA-1 sobre o resultado e converter para hexadecimal, correspondendo a 40 bytes.
            </li>
          </ul>
        </ul>





        <h4 id="3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE">3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE</h4>

        <p>Os passos para geração do Hash do QR Code na emissão em contingência offline são:</p>
        <ul>
          <ul class="disco">
            <li>
              <div class="negrito">Passo 1:</div> Converter o valor do DigestValue da NFC-e (digVal) para HEXA;
            </li>
            <li>
              <div class="negrito">Passo 2:</div> Concatenar os parâmetros de 1 a 7 constantes da tabela presente na seção <a href='javascript:void(0);' id="botao_meiodatela"
                onclick='meiodatela("3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE")' title='3.2.2. Parâmetros da URL do QR Code na emissão em contingência OFFLINE'>3.2.2.</a>) separados por “|” na ordem indicada;
            </li>
            <li>
              <div class="negrito">Passo 3:</div> Adicionar ao final da string o CSC (disponibilizado pela SEFAZ da UF onde a empresa está localizada);
            </li>
            <li>
              <div class="negrito">Passo 4:</div> Aplicar o algoritmo SHA-1 sobre o resultado e converter para hexadecimal, correspondendo a 40 bytes.
            </li>
          </ul>
        </ul>


        <h3 id="3.4. Exemplo de QR Code e Hash QR Code">3.4. Exemplo de QR Code e Hash QR Code</h3>

        <p>A seguir se apresentam exemplos de QR Code para facilitar as implementações
          por parte das empresas e as validação por parte das Unidades Federadas. O exemplo
          hipotético serve para orientá-lo no desenvolvimento da montagem da URL de consulta via
          QRCode, como também na geração da imagem do QR Code.</p>


        <h4 id="3.4.1. Exemplo de QR Code para NFC-e ONLINE">3.4.1. Exemplo de QR Code para NFC-e ONLINE</h4>
        <p>Considere uma situação hipotética de emissão de NFC-e em ambiente de
          produção na forma ONLINE, cujos parâmetros a serem utilizados no cálculo do hash do QR
          Code são:</p>

        <ul>
          <ul class="disco">
            <li>Chave de Acesso: 28170800156225000131650110000151341562040824</li>
            <br>
            <li>Versão do QR Code: 2</li>
            <br>
            <li>Identificação do Ambiente: 1 (Produção)</li>
            <br>
            <li>Identificação do CSC: 1 (informar sem os zeros não significativos)</li>
            <br>
            <li>CSC de produção 1: CODIGO-CSC-CONTRIBUINTE-36-CARACTERES Seguindo as sequências descritas nas seções <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2.1. Parâmetros da URL do QR Code na emissão ONLINE")'
                title='3.2.1. Parâmetros da URL do QR Code na emissão ONLINE'>3.2.1. </a> e <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3.1. Geração do Hash do QR Code na emissão ONLINE")'
                title='3.3.1. Geração do Hash do QR Code na emissão ONLINE'>3.3.1.</a>:</li>
            <br>
            <li>
              <div class="negrito">Passo 1:</div> Montar a string com os valores dos parâmetros separados por barra “|”, na ordem indica na tabela 2 (seção 4.2.1);<br>Resultado: 28170800156225000131650110000151341562040824|2|1|1
            </li>
            <br>
            <li>
              <div class="negrito">Passo 2:</div> Adicionar, ao final dos parâmetros, o CSC referente ao identificador indicado no parâmetro 4 (CSC do contribuinte disponibilizado pela SEFAZ da UF onde a empresa está localizada):<br>Resultado:
              28170800156225000131650110000151341562040824|2|1|1<div class="negrito">SEUCODIGO-CSC-CONTRIBUINTE-36-CARACTERES</div>
            </li>
            <br>
            <li>
              <div class="negrito">Passo 3:</div> Gerar o Hash, aplicando o algoritmo SHA-1 sobre o resultado acima. A saída do algoritmo SHA-1 deve ser em HEXADECIMAL. Para verificar se a conversão realizada está correta, acesse o <a
                href="http://www.nfce.se.gov.br/portal/portalNoticias.jsp?jsp=barra-menu/servicos/validadorSHA1HEXA.htm">Portal Nacional NFC-e</a><br>Entrada: 28170800156225000131650110000151341562040824|2|1|1<div class="negrito">
                SEUCODIGO-CSC-CONTRIBUINTE-36-CARACTERES</div><br>Saída: Hash do QR Code = DC6AE2C2B9A992BE59679AC365E29922DE6B7511
            </li>
            <br>
            <li>
              <div class="negrito">Passo 4:</div> Gerar a imagem do QR Code, conforme descrito na seção 4.2: 1ª parte (endereço da consulta) + 2ª parte (parâmetros da tabela 2 separados por “|”) <br>O resultado da URL formada deverá ser incluída na
              imagem QR Code:
            </li>
          </ul>
        </ul>

        <ul>
          <ul>
            <table style="border-collapse:collapse">
              <tr style="background-color:#B0C4DE">
                <td style="border-right:hidden; font-weight: bold; color:blue;">1ª Parte:</td>
                <td>http://www.sefazexemplo.gov.br/nfce/qrcode?p=</a></td>
              </tr>
              <tr>
                <td style="border-right:hidden; font-weight: bold; color:blue;">2ª Parte:</td>
                <td>28170800156225000131650110000151341562040824|2|1|1|DC6AE2C2B9A992BE59679AC365E29922DE6B7511</td>
              </tr>
            </table>
          </ul>
        </ul>

        <p>A URL para se adicionar dentro da imagem do QRCode ficaria então assim:
          http://www.sefazexemplo.gov.br/nfce/qrcode?p=28170800156225000131650110000151341562040824|2|1|1|DC6AE2C2B9A992BE59679AC365E29922DE6B7511</p>

        <p>A figura abaixo foi gerada com a URL apresentada acima. Se desejar, você pode testar efetuando a leitura do QR Code da Figura</p>



        <figure>
          <img src="./Imagens/QRCodeExemploOnline.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>

        <h4 id="3.4.2. Exemplo de QR Code e Hash QR Code para NFC-e OFFLINE">3.4.2. Exemplo de QR Code e Hash QR Code para NFC-e OFFLINE</h4>

        <p>Considere uma situação hipotética de emissão de NFC-e em ambiente de
          produção na forma OFFLINE (contingência), cujos parâmetros a serem utilizados no cálculo
          do hash do QR Code são:</p>

        <ul>
          <ul class="disco">
            <li>Chave de Acesso: 28170800156225000131650110000151349562040824</li>
            <br>
            <li>Versão do QR Code: 2</li>
            <br>
            <li>Identificação do Ambiente: 1 (Produção)</li>
            <br>
            <li>Dia da data de emissão da NFC-e: 02</li>
            <br>
            <li>Valor Total da NFC-e: 60.90</li>
            <br>
            <li>DigestValue da NFC-e: yzGYhUx1/XYYzksWB+fPR3Qc50c=</li>
            <br>
            <li>Identificação do CSC: 1 (informar sem os zeros não significativos)</li>
            <br>
            <li>CSC de produção 1: <div class="negrito">CODIGO-CSC-CONTRIBUINTE-36-CARACTERES</div>

              <br><br>Seguindo as sequências descritas nas seções <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3.1. Geração do Hash do QR Code na emissão ONLINE")'
                title='3.3.1. Geração do Hash do QR Code na emissão ONLINE'>3.3.1.</a> e <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE")'
                title='3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE'>3.3.2.</a>:
            </li>
            <br>
            <li>
              <div class="negrito">Passo 1:</div>Converter o valor do DigestValue da NFC-e para HEXADECIMAL. Para verificar se a conversão realizada está correta, acesse o <a
                href="http://www.nfce.se.gov.br/portal/portalNoticias.jsp?jsp=barra-menu/servicos/validadorSHA1HEXA.htm"> Portal Nacional NFC-e</a>
              <br><br>Entrada: yzGYhUx1/XYYzksWB+fPR3Qc50c=
              <br><br>Saída :797a4759685578312f5859597a6b7357422b6650523351633530633d
            </li><br>
            <li>
              <div class="negrito">Passo 2:</div>Montar a string com os valores dos parâmetros separados por “|”, na ordem indica na tabela da seção <a href='javascript:void(0);' id="botao_meiodatela"
                onclick='meiodatela("3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE")' title='3.3.2. Geração do Hash do QR Code na emissão em contingência OFFLINE'>3.3.2.</a><br><br>
              Resultado: 28170800156225000131650110000151349562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b6650523351633530633d|1
            </li>
            <br>
            <li>
              <div class="negrito">Passo 3:</div>Adicionar, ao final dos parâmetros, o CSC referente ao identificador indicado
              no parâmetro 7 (CSC do contribuinte disponibilizado pela SEFAZ da UF onde a empresa
              está localizada):<br><br>
              Resultado: 28170800156225000131650110000151349562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b6650523351633530633d|1<div class="negrito">SEU-CODIGO-CSC-CONTRIBUINTE-36-CARACTERES</div>
              <br><br>
            <li>
              <div class="negrito">Passo 4:</div>Aplicar o algoritmo SHA-1 sobre todos os parâmetros concatenados. A saída
              do algoritmo SHA-1 deve ser em HEXADECIMAL. Para verificar se a conversão
              realizada está correta, acesse o <a href="http://www.nfce.se.gov.br/portal/portalNoticias.jsp?jsp=barra-menu/servicos/validadorSHA1HEXA.htm"> Portal Nacional NFC-e</a>
              <br><br>Entrada: 28170800156225000131650110000151349562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b6650523351633530633d|1<div class="negrito">SEU-CODIGO-CSC-CONTRIBUINTE-36-CARACTERES</div>
              <br><br>Saída: 4615A93BB0D7C4E780F8D30EE77EDD5BA55C7D66
            </li>
            <br>
            <li>
              <div class="negrito">Passo 5:</div>Gerar a imagem do QR Code, conforme descrito na seção <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("3.2. Geração da imagem do QR Code para NFC-e")'
                title='3.2. Geração da imagem do QR Code para NFC-e'>3.2.</a>: 1ª parte
              (endereço da consulta) + 2ª parte (parâmetros da tabela 3 separados por “|”)
              <br><br>O resultado da URL formada deverá ser incluída na imagem QR Code:
            </li>
          </ul>
        </ul>

        <ul>
          <ul>
            <table style="border-collapse:collapse">
              <tr style="background-color:#B0C4DE">
                <td style="border-right:hidden; font-weight: bold; color:blue;">1ª Parte:</td>
                <td>http://www.sefazexemplo.gov.br/nfce/qrcode?p=</a></td>
              </tr>
              <tr>
                <td style="border-right:hidden; font-weight: bold; color:blue;">2ª Parte:</td>
                <td>28170800156225000131650110000151349562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b6650523351633530633d|1|4615A93BB0D7C4E780F8D30EE77EDD5BA55C7D66</td>
              </tr>
            </table>
          </ul>
        </ul>

        <p>A URL para se adicionar dentro da imagem do QRCode ficaria então assim:</p>
        <p><a href="http://www.sefazexemplo.gov.br/nfce/qrcode?p=28170800156225000131650110000151349
562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b665052335163353063
3d|1|4615A93BB0D7C4E780F8D30EE77EDD5BA55C7D66">http://www.sefazexemplo.gov.br/nfce/qrcode?p=28170800156225000131650110000151349
            562040824|2|1|02|60.90|797a4759685578312f5859597a6b7357422b665052335163353063
            3d|1|4615A93BB0D7C4E780F8D30EE77EDD5BA55C7D66</a>

        <p>A figura abaixo foi gerada com a URL apresentada acima. Se desejar, você pode testar efetuando a leitura do QR Code da Figura.</p>

        <figure>
          <img src="./Imagens/QRCodeExemploOffline.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>


        <h3 id="3.5. Configurações para QR Code">3.5. Configurações para QR Code</h3>

        <p>O QR Code permite algumas configurações adicionais conforme descrito a seguir:</p>



        <h4 id="3.5.1. Capacidade de armazenamento">3.5.1. Capacidade de armazenamento</h4>

        <p>As configurações para capacidade de armazenamento de caracteres do QR Code:</p>

        <p>1 - Numérica - máx. 7089 caracteres</p>
        <p>2 - Alfanumérica - máx. 4296 caracteres</p>
        <p>3 - Binário (8 bits) - máx. 2953 bytes</p>
        <p>4 - Kanji/Kana - máx. 1817 caracteres</p>
        <p>Fonte: <a href="http://en.wikipedia.org/wiki/QR_code">http://en.wikipedia.org/wiki/QR_code</a></p>


        <h4 id="3.5.2. Capacidade de correção de erros">3.5.2. Capacidade de correção de erros</h4>

        <p>Seguem as configurações para correções de erros do QR Code:</p>
        <p>Nível L (Low) 7% das palavras do código podem ser recuperadas;</p>
        <p>Nível M (Medium) 15% das palavras de código podem ser restauradas;</p>
        <p>Nível Q (Quartil) 25% das palavras de código podem ser restauradas;</p>
        <p>Nível H (High) 30% das palavras de código podem ser restauradas.</p>
        <p>Fonte: <a href="http://en.wikipedia.org/wiki/QR_code">http://en.wikipedia.org/wiki/QR_code</a></p>
        <p>
        <div class="negrito">Para o QR Code do DANFE NFC-e será utilizado Nível M.</div>
        </p>


        <h4 id="3.5.3. Tipo de caracteres">3.5.3. Tipo de caracteres</h4>

        <p>Existem dois padrões de caracteres que podem ser configurados na geração do QR code, conforme visto abaixo:</p>
        <p>1 – ISSO-8859-1</p>
        <p>2 – UTF-8</p>
        <p>Fonte: <a href="http://en.wikipedia.org/wiki/QR_code">http://en.wikipedia.org/wiki/QR_code</a></p>
        <p>
        <div class="negrito">Para o QR Code do DANFE NFC-e será utilizada a opção 2 – UTF-8.</div>
        </p>

        <h3 id="3.6. Fornecimento do CSC">3.6. Fornecimento do CSC</h3>

        <p>O processo de fornecimento de CSC é feito por meio de página web específica
          da Secretaria de Fazenda da UF de cada Contribuinte Emissor. Também disponíveis no
          <a href="http://nfce.encat.org/empresario/csc/">Portal Nacional da NFC-e</a>
        </p>

        <p>Por meio desta página o contribuinte deve poder solicitar novo CSC, consultar
          CSC válidos e revogar CSC.</p>

        <p>A critério da UF poderá o CSC ser fornecido também por Web Service, segundo
          especificações técnicas padronizadas nacionalmente.</p>

        <p>O contribuinte pode solicitar até 2 CSC para toda a empresa na UF. Todavia, se
          a empresa necessitar de um terceiro CSC deverá indicar, previamente, qual dos dois outros
          CSC válidos deseja revogar, uma vez que a empresa na UF somente poderá ter,
          simultaneamente, apenas 2 CSC válidos.</p>

        <p>O CSC corresponderá a um conjunto de no mínimo 16, e no máximo 36
          caracteres alfanuméricos, sendo que cada CSC possui associado um código sequencial de
          identificação de até 6 dígitos para facilitar a identificação do respectivo CSC e validação do
          QR Code pelo Fisco quando da realização da consulta pelo consumidor.</p>


        <p>O código de identificação do CSC será um sequencial numérico crescente por
          empresa (CNPJ base 8 dígitos) na UF.</p>

        <p>No banco de dados do Fisco da UF ficarão armazenados os seguintes dados:
          CNPJ base da empresa, código de identificação do CSC, CSC, data de ativação do CSC e
          eventual data de revogação do CSC.</p>

        <p>Para a emissão de NFC-e em ambiente de homologação a empresa deverá
          utilizar CSC que solicitou pela página web de sua Secretaria da Fazenda. A critério da
          Unidade Federada poderá ser disponibilizada página web específica para fornecimento de
          CSC para uso em ambiente de homologação.</p>

        <h3 id="3.7. Implementação no sistema do contribuinte">3.7. Implementação no sistema do contribuinte</h3>

        <p>Na emissão da NFC-e, o sistema do contribuinte adicionará a imagem gerada e
          armazenará no local especificado do DANFE NFC-e. A saída de impressão, por default,
          deverá ser na tela do computador do frente de caixa, com a opção de envio para a
          impressora, caso o consumidor deseje o DANFE NFC-e impresso ou para meio eletrônico
          (e-mail ou SMS)</p>

        <h3 id="3.8. URL da Consulta da NFC-e via QR Code no XML - obrigatoriedade">3.8. URL da Consulta da NFC-e via QR Code no XML - obrigatoriedade</h3>

        <p>A NT 002.2015 determina que a URL da Consulta da NFC-e via QR-Code deve
          constar do arquivo da NFC-e (XML) em ZX. Informações Suplementares da Nota Fiscal.</p>

        <h2 id="4. Consulta Pública NFC-e">4. Consulta Pública NFC-e</h2>

        <p>Para que o consumidor possa verificar a validade e autenticidade da NFC-e, a
          UF do contribuinte emitente deverá disponibilizar o serviço de consulta pública da NFC-e.</p>

        <p>Esta consulta poderá ser efetuada pelo consumidor de duas formas: pela
          digitação em página web dos 44 caracteres numéricos da chave de acesso constantes
          impressos no DANFE NFC-e ou consulta via leitura do QR Code impresso ou disponibilizado
          em meio eletrônico, utilizando aplicativos gratuitos de leitura de QR Code, disponíveis em
          dispositivos móveis como smartphones e tablets.</p>



        <h3 id="4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso">4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso</h3>

        <p>O endereço que deve estar impresso no DANFE NFC-e destinado à consulta
          utilizando a chave de acesso, está indicado por cada Unidade Federada, e consta do <a href="http://nfce.encat.org/consumidor-nfce/consulte-nota-nfce/">Portal
            Nacional NFC-e</a></p>

        <p>NT determina que a URL da consulta chaves da NFC-e deve constar do arquivo
          da NFC-e (XML) em ZX-03. Informações Suplementares da Nota Fiscal.</p>

        <p>Nesta hipótese o consumidor deverá acessá-los pela internet e digitar a chave
          de acesso composta por 44 caracteres numéricos.</p>


        <figure>
          <img src="./Imagens/TelaConsultaNFCeChave.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>

        <p>Como resultado da consulta pública, deverá ser apresentado ao consumidor na
          tela o DANFE NFC-e completo (com itens de mercadoria). Nesta tela o consumidor terá a opção de imprimir o DANFE NFC-e completo ou optar pela visualização do conteúdo da
          NFC-e em formato de abas.</p>

        <p>A opção visualização por abas apresentará os dados da mesma NFC-e todavia
          com apresentação similar à consulta pública atual da NF-e modelo 55.</p>

        <figure>
          <img src="./Imagens/ResultadoNFCeChaveAcesso.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>

        <p>Na hipótese da consulta pública de um NFC-e que esteja com status de cancelada ou denegada (figuras abaixo), serão apresentados os dados da respectiva NFC-e consultada,
          todavia com mensagem ao consumidor indicativa de que se trata de documento inválido –
          sem valor fiscal.</p>

        <figure>
          <img src="./Imagens/ConsultaNFCeCancelada.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>
        <br><br>

        <figure>
          <img src="./Imagens/ConsultaNFCeDenegada.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>
        <h3 id="4.2. Consulta Pública de NFC-e via QRCode">4.2. Consulta Pública de NFC-e via QRCode</h3>


        <p>A aplicação de consulta pública da NFC-e via QR Code será efetuada por cada
          Unidade Federada e efetuará validações do conteúdo de informações constantes do QR
          Code versus o conteúdo da respectiva NFC-e, bem como a conferência do hash do QR
          Code.</p>
        <p>Nesta hipótese, o consumidor deverá apontar o seu dispositivo móvel
          (smartphone ou tablet) para a imagem do QR Code gerada na tela do caixa ou impressa no
          DANFE NFC-e entregue pelo operador do caixa. O leitor de QR Code se encarregará de
          interpretar a imagem e efetuar a consulta da NFC-e da URL recuperada no Portal da SEFAZ
          da Unidade Federada da emissão do documento.</p>

        <figure>
          <img src="./Imagens/ProcessoLeituraQRCode.png" alt="DANFE NFC-e QR Code lateral" style="width:auto;">
        </figure>


        <p>Como resultado da consulta QR Code, deverá ser apresentado ao consumidor
          na tela do dispositivo móvel o DANFE NFC-e completo (com itens de mercadoria). Nesta
          tela, o consumidor terá a opção de imprimir o DANFE NFC-e completo ou optar pela
          visualização do conteúdo da NFC-e também em formato de abas. O resultado deve ser
          idêntico ao resultado utilizando a consulta com digitação em tela conforme visto no tópico
          <a href='javascript:void(0);' id="botao_meiodatela" onclick='meiodatela("4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso")' title='4.1. Consulta Pública de NFC-e via Digitação de Chave de Acesso'>4.1.</a>
        </p>
        <p>Eventuais divergências encontradas entre as informações da NFC-e constantes
          dos parâmetros do QR Code ou problemas na validação do Hash do QR Code deverão ser
          informadas ao consumidor em área de mensagem a ser disponibilizada na tela de resposta
          da consulta pública sem, todavia, um detalhamento excessivo do erro identificado, que será
          de pouco interesse ao consumidor e apenas poderá acabar por gerar dúvidas e
          inseguranças.</p>
        <p>Assim, será apresentado na tela ao consumidor o código do erro e uma
          mensagem de aviso mais genérica.</p>

        <h3 id="4.3. Tabela padronizada com os códigos e mensagens na consulta de NFC-e">4.3. Tabela padronizada com os códigos e mensagens na consulta de NFC-e</h3>

        <p>A tabela relaciona todas as mensagens de validações utilizadas na consulta de
          NFC-e seja por digitação em tela ou via QR Code. Estas mensagens somente serão
          utilizadas na implementação da consulta pela SEFAZ.</p>


        <ul>
          <ul class="disco">
            <table style="border-collapse:collapse">
              <tr style="background-color:lightblue;">
                <th colspan="3">Relação de mensagens de validações na consulta de NFC-e</th>
              </tr>
              <tr style="background-color:lightblue;">
                <th>Código</th>
                <th>Mensagem</th>
                <th>Exibir para o Consumidor</th>
              </tr>
              <tr>
                <td>100</td>
                <td>Hash</td>
                <td>QR Code Inválido.</td>
              <tr>
                <td>101</td>
                <td>CSC inválido para o contribuinte.</td>
                <td>QR Code Inválido</td>
              </tr>
              <tr>
                <td>102</td>
                <td>CSC revogado.</td>
                <td>QR Code Inválido</td>
              </tr>
              <tr>
                <td>103</td>
                <td>Identificador de CSC inexistente.</td>
                <td>QR Code Inválido</td>
              </tr>
              <tr>
                <td>104</td>
                <td>Identificador de CSC inválido.</td>
                <td>QR Code Inválido</td>
              </tr>
              <tr>
                <td>201</td>
                <td>Dígito verificador da Chave de Acesso da NFC-e inválido.</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>202</td>
                <td>Chave de Acesso da NFC-e com menos de 44 caracteres.</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>203</td>
                <td>Ano e mês da Chave de Acesso da NFC-e inconsistente com data de emissão.</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>204</td>
                <td>Modelo constante da Chave de Acesso difere de 65 (NFC-e).</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>205</td>
                <td>CNPJ do emitente constante da Chave de Acesso da NFC-e com dígito verificador inválido.</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>206</td>
                <td>Chave de acesso da NFC-e não preenchida.</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>211</td>
                <td>Versão do QR Code inválida.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>212</td>
                <td>Versão do QR Code não preenchida.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>213</td>
                <td>Identificação do ambiente difere de 1 ou 2.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>214</td>
                <td>Identificação do ambiente não preenchida.</td>
                <td>Inconsistência de Informações no QR </td>
              </tr>
              <tr>
                <td>217</td>
                <td>Dia da data de emissão informada no QR Code inválida.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>218</td>
                <td>Dia da data de emissão não preenchido.</td>
                <td>Inconsistência de Informações</td>
              </tr>
              <tr>
                <td>219</td>
                <td>Dia da data de emissão inconsistente com dado informado na NFC-e.</td>
                <td>Inconsistência de Informações</td>
              </tr>
              <tr>
                <td>220</td>
                <td>Valor total informado no QR Code em formato inválido.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>221</td>
                <td>Valor total informado no QR Code inconsistente com dado constante da NFC-e.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>227</td>
                <td>DigestValue informado no QR Code inconsistente com dado constante da NFC-e.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>229</td>
                <td>Nota Fiscal do Consumidor CANCELADA.</td>
                <td>A NFC-e está CANCELADA</td>
              </tr>
              <tr>
                <td>230</td>
                <td>Hash do QR Code não preenchido no QR Code.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>231</td>
                <td>Valor total da NFC-e não preenchido no QR Code.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>233</td>
                <td>DigestValue não preenchido no QR Code.</td>
                <td>Inconsistência de Informações no QR Code</td>
              </tr>
              <tr>
                <td>234</td>
                <td>O prazo de24h para o envio desta NFC-e já foi ultrapassado.</td>
                <td>Regra de negócios da NFC-e</td>
              </tr>
              <tr>
                <td>235</td>
                <td>NFC-e foi emitida em contingência. Volte a consultar após 24h.</td>
                <td>Regra de negócios da NFC-e</td>
              </tr>
              <tr>
                <td>236</td>
                <td>A NFC-e da chave de acesso não existe.</td>
                <td>Regra de negócios da NFC-e</td>
              </tr>
              <tr>
                <td>237</td>
                <td>Código da imagem é inválido.</td>
                <td>Erro na digitação dos dados</td>
              </tr>
              <tr>
                <td>238</td>
                <td>NFC-e emitida ainda não consta na nossa base de dados. Favor volte a consultar em outra hora.</td>
                <td>Regra de negócios da NFC-e</td>
              </tr>
              <tr>
                <td>239</td>
                <td>A UF da chave de acesso está diferente do código da UF</td>
                <td>Problemas na Chave de Acesso da NFC-e</td>
              </tr>
              <tr>
                <td>240</td>
                <td>NFC-e CANCELADA - Documento cancelado pelo emitente.</td>
                <td>Documento Inválido - Sem Valor Fiscal</td>
              </tr>
              <tr>
                <td>241</td>
                <td>NFC-e DENEGADA - Emitente não autorizado pelo fisco.</td>
                <td>Documento Inválido - Sem Valor Fiscal</td>
              </tr>
              <tr>
                <td>242</td>
                <td>Dia da data de emissão informada é inválido.</td>
                <td>Inconsistência de Informações</td>
              </tr>
              <tr>
                <td>245</td>
                <td>Chave de Acesso da NFC-e inválida.</td>
                <td>Problema na Chave de Acesso</td>
              </tr>
              <tr>
                <td>246</td>
                <td>A chave de acesso informada não é de uma NFC-e (modelo 65). Verifique o modelo do documento fiscal eletrônico (DF-e).</td>
                <td>Problema na Chave de Acesso</td>
              </tr>
              <tr>
                <td>247</td>
                <td>A chave de acesso informada não se refere a uma NFC-e emitida por contribuinte da UF indicada.</td>
                <td>Problema na Chave de Acesso</td>
              </tr>
            </table>
          </ul>
        </ul>
      </div>
    </div>
  </div>


</body>
<!-- Mirrored from www.w3schools.com/css/default.asp by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 13 Mar 2016 05:41:03 GMT -->

</html>
